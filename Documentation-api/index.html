<h1 style="color:#21021d; text-align:center;">API Documentation for One-on-One Session Booking System</h1>
<br><br><br><br>
<h2 style="color:#4682B4;">Overview</h2>
<p>This document provides an overview of the API endpoints used for booking one-on-one sessions, managing user availability, and handling authentication. It is designed to help the frontend team interact with the backend effectively.</p>

<h2 style="color:#4682B4;">Authentication Flow</h2>

<h3 style="color:#FF8C00;">User Login</h3>
<ul style="color:#000;">
  <li>Users log in via Google OAuth.</li>
  <li>Upon successful login, a JWT token is generated and returned to the frontend.</li>
</ul>

<h3 style="color:#FF8C00;">Token Verification</h3>
<ul style="color:#000;">
  <li>The token is used to authenticate requests to protected routes.</li>
</ul>

<h2 style="color:#4682B4;">API Endpoints</h2>

<h3 style="color:#DAA520;">1. User Authentication</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/login/auth/google</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">GET</span></p>
<p><strong>Description</strong>: Initiates the Google OAuth authentication process.</p>

<br><br>

<h3 style="color:#DAA520;">2. Fetch User Information</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/login/getUserInfo</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">GET</span></p>
<p><strong>Authentication</strong>: Required</p>

<h4 style="color:#4682B4;">Request Headers:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>Authorization: Bearer {token}</code></pre>

<h4 style="color:#4682B4;">Response Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "message": "User Fetched",
  "name": "User Name",
  "email": "user@example.com",
  "sharable_link": "http://localhost:5173/sharable?userId",
  "id":someId
}</code></pre>
<br><br>
<h3 style="color:#DAA520;">3. Generate Sharable Link</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/api/v1/sharableLink</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">POST</span></p>
<p><strong>Authentication</strong>: Required</p>

<h4 style="color:#4682B4;">Request Headers:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>Authorization: Bearer {token}</code></pre>

<h4 style="color:#4682B4;">Response Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "response": true,
  "message": "Sharable Link Generated Successfully",
  "sharable_link": "http://localhost:5173/sharable?userId"
}</code></pre>
<br><br>
<h3 style="color:#DAA520;">4. Create Availability Slot</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/api/v1/slots</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">PATCH</span></p>
<p><strong>Authentication</strong>: Required</p>

<h4 style="color:#4682B4;">Request Headers:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>Authorization: Bearer {token}</code></pre>

<h4 style="color:#4682B4;">Request Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "availability":{
      "month": 10,
      "date": 1,
      "slots": [
        { "start": "10:00", "end": "11:00" },
        { "start": "14:00", "end": "15:00" }
      ]
}
</code></pre>

<h4 style="color:#4682B4;">Response:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "message": "Slots Updated Successfully"
}</code></pre>
<br><br>
<h3 style="color:#DAA520;">5. Configure Session</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/api/v1/configure-session</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">GET</span></p>
<p><strong>Query Parameters</strong>: <code>?id=userId</code></p>
<p><strong>Description</strong>: Retrieves host information for booking a session.</p>

<h4 style="color:#4682B4;">Response Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "response": true,
  "message": "Successful",
  "info": {
    "name": "Host Name",
    "email": "host@example.com",
    "availability": [...]
  }
}</code></pre>
<br><br>
<h3 style="color:#DAA520;">6. Book a Session</h3>
<p><strong>Endpoint</strong>: <code style="color:#800080;">/api/v1/book-session</code></p>
<p><strong>Method</strong>: <span style="color:#008080;">POST</span></p>

<h4 style="color:#4682B4;">Request Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "id": "booking_with_person_id",
  "startTime": "2024-09-30T14:00:00",
  "bookerEmail": "booker@example.com",
  "bookerName": "Booker Name",
  "bookerTimeZone": "America/New_York",
  "slotId": "slot_id",
  "availabilityId": "availability_id"
}</code></pre>

<h4 style="color:#4682B4;">Response Body:</h4>
<pre style="background-color:#F0F8FF; border-left: 5px solid #4682B4; padding: 10px;"><code>{
  "response": true,
  "message": "Session Scheduled Successfully",
  "bookingWithPersonInfo": {
    "name": "Host Name",
    "email": "host@example.com"
  },
  "bookingInfo": {
    "location": "Google Meet",
    "meetingLink": "https://meet.google.com/xxxxx",
    "meetingDate": "2024-09-30T14:00:00-05:00",
    "meetingDuration": "30 Minutes"
  }
}</code></pre>
<br><br>
<h2 style="color:#4682B4;">Flowchart</h2>
<p>The following flow illustrates the user booking flow:</p>

<pre style="background-color:#FFF8DC; padding: 10px; text-align: center;">
+------------------+
| User Logs In     |
| via Google OAuth |
+------------------+
          |
          v
+------------------+
| Receive JWT Token|
+------------------+
          |
          v
+------------------+
| Generate Sharable|
| Link             |
+------------------+
          |
          v
+-------------------+
| Configure Session |
| (Get Host Info)   |
+-------------------+
          |
          v
+-------------------+
| Book Session      |
| (Create Google    |
| Meet Event)       |
+-------------------+
          |
          v
+-------------------+
| Receive Booking   |
| Confirmation      |
+-------------------+
</pre>
